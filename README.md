![](https://github.com/Part001-R/assets/blob/main/assets/Client%20HTTPS.png)

# Клиент экспорта данных

Проект, представляет функциональное расширение для проекта BlackBox. Активируя в проекте BlackBox опцию HTTPS, появляется возможно экспорта исторических данных по сети. Данное решение будет полезным если на территории находится много различных мобильных объектов (котельные, компрессора и т.д.). Для выгрузки архивных данных достаточно находиться в зоне покрытия локальной WiFi сети. 

# Функциональность
+ Подключение по HTTPS.
+ Аутентификация при каждом запуске.
+ Получение состояния сервера.
+ Выгрузка данных БД, частями. 
+ Сохранение данных в формате xlsx.

# Содержимое проекта
+ assents - картинка проекта.
+ cmd - точка входа (main.go).
+ configs:
  + .env - переменные окружения;
  + ***.crt - публичный ключ сервера.
+ docs - информация по проекту.
+ internal - пакеты проекта:
  +  clientAPI - API клиента;
  +  libre - взаимодействие с libre.
+ .gitignore - файл игнора git.

# Подготовка
1.  В корневой директории проекта, создать папку `configs`.
2.  Поместить публичный https ключ сервера, в `configs`.
3.  Создать файл `configs/.env`.
4.  В созданный `configs/.env` файл, перенести содержимое из файла `docs/Переменный окружения`.
5.  Указать значения переменным окружения `configs/.env`. 

# Создание исполняемого файла
1. Перейти в корневую директорию проекта.
2. Выполнить построение исполняемого файла: `go build -o clientHTTPS ./cmd/client/main.go`.
   `-o clientHTTPS` -  в корневой директории, создаётся файл с именем clientHTTPS. Указать любое удобное для приложения имя.

# Запуск приложения
Созданный исполняемый файл `clientHTTPS`, работает совместно с файлами директории `configs`. 
1. Перенести `clientHTTPS` и копию директории `configs`, в удобное для эксплуатации место.
2. Открыть в терминале директорию из шага `1`.
3. Выполнить команду `./clientHTTPS`.

Отобразится меню действий, с ожиданием ввода от пользователя.

При выборе пункта 2 - Запрос архивных данных, от пользователя ожидается ввод даты, по которой будет выполнена выборка из БД.
По результату работы, в директории исполняемого файла формируется xlsx файл, с данными выборки.

# Текущее состоение проекта
Общий функционал готов. Разработка тестов. 